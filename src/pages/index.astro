---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroSection from '../components/sections/HeroSection.astro';
import IntroductionSection from '../components/sections/IntroductionSection.astro';
import ComparisonTableSection from '../components/sections/ComparisonTableSection.astro';
import MethodologySection from '../components/sections/MethodologySection.astro';
import QuickSelectionGuide from '../components/sections/QuickSelectionGuide.astro';
import UpdatesSection from '../components/sections/UpdatesSection.astro';
import TrustSignals from '../components/sections/TrustSignals.astro';
import AffiliateBannerSection from '../components/AffiliateBannerSection.astro';
import { generateOrganizationSchema, generateWebSiteSchema } from '../utils/seo';

// Get all services
const services = await getCollection('services');

// Generate structured data for homepage
const siteUrl = Astro.site?.toString() || 'https://florizeflowers.com';
const organizationSchema = generateOrganizationSchema();
const websiteSchema = generateWebSiteSchema(siteUrl);
---

<BaseLayout
  title="Best Flower Delivery UK 2025 - Expert Comparison & Reviews | Florize"
  description="Compare top UK flower delivery services. Expert tested reviews, pricing comparison & recommendations for every occasion. Find your perfect florist today."
  keywords="flower delivery uk, best florist uk, flower comparison, interflora, bloom and wild"
  structuredData={[organizationSchema, websiteSchema]}
>
  <!-- Hero Section -->
  <HeroSection
    title="Find the Perfect UK Flower Delivery Service"
    subtitle="Expert-tested reviews and comparisons of the UK's best flower delivery services. From budget-friendly to luxury arrangements, we help you choose the perfect florist for every occasion."
    primaryCta={{ text: "Compare Services", href: "#comparison" }}
    secondaryCta={{ text: "Learn More", href: "#about" }}
    backgroundImage="/images/hero-flowers-bright.jpg"
  />

  <!-- Introduction -->
  <IntroductionSection />

  <!-- Comparison Table -->
  <ComparisonTableSection services={services} maxServices={12} showViewAllButton={false} />

  <!-- How We Test Section -->
  <MethodologySection />

  <!-- Quick Selection Guide -->
  <QuickSelectionGuide />

  <!-- Recent Updates Section -->
  <UpdatesSection />

  <!-- Trust Signals -->
  <TrustSignals />

  <!-- Affiliate Banner Section -->
  <AffiliateBannerSection variant="all" title="Our Flower Partners" />
</BaseLayout>
